<!DOCTYPE html>

<html>

	<head>
		<meta charset="utf-8"/><title>在hugo網頁上新增disqus留言版 - kyw的隨筆</title>
<meta property="og:title" content="在hugo網頁上新增disqus留言版" />
<meta property="og:description" content="Sample article showcasing basic Markdown syntax and formatting for HTML elements." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://achikuan.github.io/posts/2020/disqus-on-hugo/" />
<meta property="article:published_time" content="2020-12-03T06:29:27+08:00" />
<meta property="article:modified_time" content="2020-12-03T06:29:27+08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="在hugo網頁上新增disqus留言版"/>
<meta name="twitter:description" content="Sample article showcasing basic Markdown syntax and formatting for HTML elements."/>
<meta itemprop="name" content="在hugo網頁上新增disqus留言版">
<meta itemprop="description" content="Sample article showcasing basic Markdown syntax and formatting for HTML elements.">
<meta itemprop="datePublished" content="2020-12-03T06:29:27+08:00" />
<meta itemprop="dateModified" content="2020-12-03T06:29:27+08:00" />
<meta itemprop="wordCount" content="70">



<meta itemprop="keywords" content="disqus,hugo," />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="/css/normalize.min.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css" />
<link href="https://fonts.googleapis.com/css?family=Inter|Source+Serif+Pro" rel="stylesheet" type="text/css" />

<script src="/js/feather.min.js"></script>



    <link rel="icon" sizes="any" href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAACnUlEQVRIx6XVzWtcVRjH8c/cebkJOq1gNDi1WJLWpC9YmqAUpVDRRQUXUruy1FURRP+AlLbYQB18W7vwD1BcqLjoQrSYbSHWRhiJxJQgdNTErDSTXNOZ62JeMve20zLxWVwuz/Oc7znneX7nHP6nZRAYkt/G2E1/aeQw5KzfEqHQkyoaXZ7AQfM2E1l7fGIZdjmTYu/wupzAiFNetUcg54wHUms/axe5e2zuJe8aR8WUmTvicXtpvWzYBYeFQhMueqRXWm/AqP2d/0NG+gds+LfzH1nvH/CLq60+NHzj115pvYv4j4v+9rzYdz60dm9AwY6Et2hQ0bILhvGHqOXJJrIKW4AxryRCgyZEKSFNikWJrL1bgIpPUyuIfKbe5cmKfaWmaExowYrYwBag4XYCUNdQT/ka6kZddlxexaV2iYM+Ds+g804astOzynbfr413WsmxTv4hT/UPiNv63zoJ/QGqZjqd+cmN+wnpbuIuC72gYM60W92AIAXKClKiycnKWvKWfQoWrQqaq28OPOi1RPqASVJCOirXOV6jYNyVNmDeF3hQSaRqU1HsS3WDSmJVG7JyvlZTUJJXtUbzhsq1rseaZ5wzYd0VH6iJ1Iw675jYjLIlkZqdppwQmlV2vXlDtvf+mI88J4MRt72PostOCvCEgrdRMOVNOez2kNPJNj5tUqZVrpcNY8zxVjTwon0oOdGaMOOoI0nAQFfVQ/nOt31wC8gLu/oUJgFzljoau+ZPLKh00ucsomq2o8DFdrQNWDBtXmTNt95Tw4pLZm1Yd820Vawp+15N5GfvuJlUYsPnfnDAuh8tKyJ21SmHxW641ZroutOOCFXcbKskg0e94ffUZbXXfEpI4xZST9vjPrbSfFwf3ubjupqYZHv2HylrtUljNvuGAAAAAElFTkSuQmCC">

	</head>

	<body>
		<div id="header">
    
        <div class="avatar">
			<a href="https://achikuan.github.io/">
				<img src="/image/kyw.png" alt="kyw的隨筆" />
			</a>
        </div>
    
	<a id="headerLink" href="https://achikuan.github.io/">kyw的隨筆</a><span class="hidden"> - </span>
	<span id="headerSubtitle">一個廢物的資訊筆記</span></div>

		<div id="menu">
	
	
	
	<a href="/">首頁</a>
	
	
	<span class="right">
		
		
			<a href="/about/">關於</a>
		
	<a href="https://linktr.ee/KuanYuWei" title="Contact me">
		<i data-feather="send"></i>
	</a><a onclick="toggleTheme('dark');">
		<i data-feather="moon"></i>
	</a>
	<a onclick="toggleTheme('light');">
		<i data-feather="sun"></i>
	</a>
	
	
		<a href="/search">search<svg aria-hidden="true" class="i-search" viewBox="0 0 32 32" width="10" height="10" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"><circle cx="14" cy="14" r="12"></circle><path d="M23 23l7 7"></path></svg></a>	
	
	
	</span>
</div>

		<div id="content">
			<div id="nav">
  
  
  <ul>
    <li>
      
        <a href="/posts">
          <span>文章 /</span>
        </a>
      

      
        

        <ul>
          <li>
            
              <a href="/tags">標籤</a>
            
          </li>
        </ul>
      
        

        <ul>
          <li>
            
              <a href="/categories">分類</a>
            
          </li>
        </ul>
      
        

        <ul>
          <li>
            
              <a href="/archive">歷史</a>
            
          </li>
        </ul>
      
    </li>
  </ul>
  
</div>
			<div id="main">
		<article>
			<h1>在hugo網頁上新增disqus留言版</h1>
			<div class="small right">
				<a style="margin-right:2px;" class="u-url no-underline" 
      href="https://www.addtoany.com/share#url=https%3a%2f%2fachikuan.github.io%2fposts%2f2020%2fdisqus-on-hugo%2f&title=%e5%9c%a8hugo%e7%b6%b2%e9%a0%81%e4%b8%8a%e6%96%b0%e5%a2%9edisqus%e7%95%99%e8%a8%80%e7%89%88">
        <svg style="margin-bottom: -3px" class="i-external" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
          <path d="M14 9 L3 9 3 29 23 29 23 18 M18 4 L28 4 28 14 M28 4 L14 18"></path>
        </svg>
        Share
</a>

			</div>
			<div class="light">
	<span>03 Dec 2020</span> -
	<span>1 minute read</span>
</div>
<div class="small light">
	
	categories: 
	
	<a href="/categories/%E6%9E%B6%E7%B6%B2%E7%AB%99">架網站</a>
	
	
	
	tags: 
	
	<a href="/tags/disqus">disqus</a>
	
	<a href="/tags/hugo">hugo</a>
	
	
</div>

			<hr>
			
			<div>
				<p>架設完hugo網站之後，可能會需要留言版，這篇文章會帶你一步步架設，雖然網路上有各種架設方法，但是不一定適用每種網站（似乎是跟主題有關），這裡提供的是我的用法，如果不適用，請尋找其他文章。</p>
<h2 id="步驟">步驟</h2>
<p>1.進入<a href="https://disqus.com/">disqus</a>網站註冊帳號</p>
<p><img src="/image/disqushome.png" alt="disqus首頁"></p>
<p>2.到下面這個頁面，選擇 ‘I want to install Disqus on my site’，接下來的步驟請參考<a href="https://vineo.cn/config-disqus.html">這個網站</a>，這裡就不一一說明，註冊完請記住您的shortname。</p>
<p><img src="/image/disquschoice.png" alt="disqus選擇頁面"></p>
<p>3.開啟你的網站中的single.html檔案（通常在theme/(theme name)/layout/_default裡面），這裡根據主題會有些不同，只要找到關於disqus的內容即可，在我這裡原本是：</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">{{ template &#34;_internal/disqus.html&#34;  . }}
</code></pre></div><p>（原本是官方的模板，但是我在這裡出了些小問題，所以使用這篇文章寫的模板），將它改成</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">{{ partial &#34;disqus.html&#34; . }}
</code></pre></div><p>，並在theme/(theme name)/layout/partial裡面新增一個disqus.html，貼上以下內容：</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;disqus_thread&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nb">document</span><span class="p">,</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">&#39;https://&lt;你的disqus-shortname&gt;.disqus.com/embed.js&#39;</span><span class="p">;</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;data-timestamp&#39;</span><span class="p">,</span> <span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">());</span>
<span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">head</span> <span class="o">||</span> <span class="nx">d</span><span class="p">.</span><span class="nx">body</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
<span class="p">})();</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">noscript</span><span class="p">&gt;</span>Please enable JavaScript to view the <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://disqus.com/?ref_noscript&#34;</span><span class="p">&gt;</span>comments powered by Disqus.<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">noscript</span><span class="p">&gt;</span>
</code></pre></div><p>4.最後在你的config.toml中最後在你的config.toml中新增，將它改成</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">disqusShortname = &#34;&lt;你的disqus-shortname&gt;&#34;
</code></pre></div><p><img src="/image/disqusok.png" alt="留言版"></p>
<p>恭喜你，你完成了！</p>
<p>參考資料</p>
<ul>
<li>
<p><a href="https://portfolio.peter-baumgartner.net/2017/09/10/how-to-install-disqus-on-hugo/">原文</a></p>
</li>
<li>
<p><a href="https://github.com/rstudio/blogdown/issues/52#issuecomment-288407836">Yihui Xie的程式碼</a></p>
</li>
</ul>

			</div>
		</article>
		
		
		
		
		<div>
			<div id="disqus_thread"></div>
<script>
(function() {
var d = document, s = d.createElement('script');
s.src = 'https://achikuan.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		</div>
		
		
		<div>
			<div id="commento"></div>
<script src="https://commento.example.com/js/commento.js"></script>
		</div>
		

				<div id="footer" class="light small">
© 2021 - AchiKuan.

<br>
我不知道路有多長，但是我知道我走了多少 Email: sereter19@gmail.com
<br>

This page was generated using the <a href="https://github.com/rhnvrm/bodhi">Bodhi</a> theme for Hugo.
</div>

			</div>

			

			
		</div><script>feather.replace({
			width: "1em",
			height: "1em",
		})
		</script>
		
		<script src="/js/main.js"></script>
	</body>

</html>
